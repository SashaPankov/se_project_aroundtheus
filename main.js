!function(){"use strict";const e=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers,this._spinner=document.querySelector(".spinner")}_sendRequest(e,t){return fetch(`${this._baseUrl}${e}`,t).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}getInitialCards(){return this._sendRequest("/cards",{method:"GET",headers:this._headers})}getUserInfo(){return this._sendRequest("/users/me",{method:"GET",headers:this._headers})}updateUserInfo(e){return this._sendRequest("/users/me",{method:"PATCH",body:JSON.stringify(e),headers:this._headers})}changeAvatar(e){return this._sendRequest("/users/me/avatar",{method:"PATCH",body:JSON.stringify(e),headers:this._headers})}addCard(e){return this._sendRequest("/cards",{method:"POST",body:JSON.stringify(e),headers:this._headers})}deleteCard(e){return this._sendRequest(`/cards/${e._id}`,{method:"DELETE",headers:this._headers})}likeCard(e){return this._sendRequest(`/cards/${e._id}/likes`,{method:"PUT",headers:this._headers})}dislikeCard(e){return this._sendRequest(`/cards/${e._id}/likes`,{method:"DELETE",headers:this._headers})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"25ffaa89-09a6-4b6f-aa28-dd4c48c6dd4d","Content-Type":"application/json"}});class t{constructor(e,t){let{data:r,handleCardClick:s,handleDeleteCardClick:i}=e;this._id=r._id,this._name=r.name,this._imageLink=r.link,this._isLiked=r.isLiked,this._handleCardClick=s,this._handleDeleteCardClick=i,this._cardSelector=t}_setEventListeners(){this._cardLikeElement.addEventListener("click",(()=>{this._changeLike()})),this._cardDeleteElement.addEventListener("click",(()=>{this._handleDeleteCardClick(this)})),this._cardImageElement.addEventListener("click",(()=>{this._handleCardClick(this)}))}_changeLike(){this._cardLikeElement.classList.toggle("card__like-button_active"),this._cardLikeElement.classList.contains("card__like-button_active")?e.likeCard(this.getCardData()):e.dislikeCard(this.getCardData())}_getCardTemplate(){return console.log(`#${this._cardSelector}`),document.querySelector(`#${this._cardSelector}`).content.querySelector(".card").cloneNode(!0)}getCardElement(){return this._cardElement=this._getCardTemplate(),this._cardImageElement=this._cardElement.querySelector(".card__image"),this._cardTitleElement=this._cardElement.querySelector(".card__title"),this._cardImageElement.src=this._imageLink,this._cardImageElement.alt=this._name,this._cardTitleElement.textContent=this._name,this._cardLikeElement=this._cardElement.querySelector(".card__like-button"),this._cardDeleteElement=this._cardElement.querySelector(".card__delete-button"),this._setEventListeners(),this._isLiked&&this._cardLikeElement.classList.add("card__like-button_active"),this._cardElement}getCardData(){return{_id:this._id,link:this._imageLink,name:this._name}}deleteCard(){this._cardElement.remove(),this._cardElement=null}}const r={formSelector:".modal__form",inputSelector:".modal__field",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__field_error",errorClass:"modal__field-error_visible",cardSelector:"card-template",cardsContainer:".cards__list",imageSelector:".modal__image",cardTitleSelector:".modal__card-title",profileNameSelector:".profile__title",profileDescriptionSelector:".profile__description",profileAvatarSelector:".profile__image",profileEditButtonSelector:"#profile-edit-button",profileTitleInputSelector:"#profile-title-input",profileDescriptionInputSelector:"#profile-description-input",profileEditForm:"profile-edit-form",cardAddButtonSelector:"#profile-add-button",cardAddForm:"card-add-form",cardTitleInputSelector:"#card-title-input",cardImageURLInputSelector:"#card-imageURL-input",popupImageSelector:"image-view-modal",popupProfileSelector:"profile-edit-modal",popupAddCardSelector:"card-add-modal",popupDeleteCardSelector:"card-delete-modal",popupChangeAvatarSelector:"profile-change-avatar-link",buttonCloseSelector:".modal__close"},s={},i=document.querySelector(r.profileEditButtonSelector),n=document.forms[r.profileEditForm],a=document.querySelector(r.cardAddButtonSelector),o=document.forms[r.cardAddForm],l=[...document.querySelectorAll(r.formSelector)];class d{constructor(e,t){this._config=e,this._formElement=t,this._inputList=[...this._formElement.querySelectorAll(this._config.inputSelector)],this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector)}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);void 0!==t&&(e.classList.add(this._config.inputErrorClass),t.classList.add(this._config.errorClass),t.textContent=e.validationMessage)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);void 0!==t&&(e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent="")}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_disableButton(){this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0}_enableButton(){this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.disabled=!1}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this._disableButton():this._enableButton()}_setEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._setEventListeners(),this._disableButton()}resetValidation(){this._inputList.forEach((e=>this._hideInputError(e))),this._disableButton()}areInputsEmpty(){return this._inputList.every((e=>0===e.value.length))}}class c{constructor(e,t){let{items:r,renderer:s}=e;this._renderedItems=r,this._renderer=s,this._container=document.querySelector(t)}addItem(e){arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?this._container.prepend(e):this._container.append(e)}clear(){this._container.innerHTML=""}renderItems(){this.clear(),this._renderedItems.forEach((e=>{this._renderer(e)}))}}class h{constructor(e){this._popup=document.querySelector(`#${e}`),this._handleEscClose=this._handleEscClose.bind(this)}_handleEscClose(e){"Escape"===e.key&&this.close()}open(){this._popup.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._popup.querySelector(".modal__close").addEventListener("click",(()=>{this.close()})),this._popup.addEventListener("mousedown",(e=>{e.target.classList.contains("modal_opened")&&this.close()}))}}class _ extends h{constructor(e,t){super(e),this._modalForm=this._popup.querySelector(r.formSelector),this._handleFormSubmit=t,this._inputs=[...this._modalForm.querySelectorAll(r.inputSelector)],this._buttonSave=this._modalForm.querySelector(r.submitButtonSelector),this._selfButtonCaption=this._buttonSave.textContent}close(){this._modalForm.reset(),super.close()}_getInputValues(){const e={};return this._inputs.forEach((t=>{e[t.getAttribute("name")]=t.value})),e}setInputValues(e){this._inputs.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){super.setEventListeners(),this._modalForm.addEventListener("submit",(()=>{this._handleFormSubmit(this._getInputValues())}))}notifyUserSaving(e){this._buttonSave.textContent=e?"Saving...":this._selfButtonCaption}}let u=null,m=null;const p=e=>new t({data:e,handleCardClick:f,handleDeleteCardClick:E},r.cardSelector).getCardElement(),f=e=>{S.open(e.getCardData())},E=e=>{L.setInputValues(e.getCardData()),m=e,L.open()};i.addEventListener("click",(()=>{g.setInputValues(v.getUserInfo()),s[n.getAttribute("name")].resetValidation(),g.open()})),a.addEventListener("click",(()=>{s[o.getAttribute("name")].resetValidation(),C.open()}));const v=new class{constructor(e,t){let{profileNameSelector:r,profileDescriptionSelector:s,profileAvatarSelector:i}=e;this._profileTitle=document.querySelector(r),this._profileDescription=document.querySelector(s),this._profileAvatar=document.querySelector(i),this._handleChangeAvatarClick=t,this._setEventListeners()}_setEventListeners(){this._profileAvatar.addEventListener("click",(()=>{this._handleChangeAvatarClick(this)}))}getUserInfo(){return{name:this._profileTitle.textContent,about:this._profileDescription.textContent,avatar:this._profileAvatar.src}}setUserInfo(e){this._profileTitle.textContent=e.name,this._profileDescription.textContent=e.about,"avatar"in e&&(this._profileAvatar.src=e.avatar)}}(r,(e=>{b.setInputValues(e.getUserInfo()),b.open()})),S=new class extends h{constructor(e){super(e),this._modalImage=this._popup.querySelector(r.imageSelector),this._modalCardTitle=this._popup.querySelector(r.cardTitleSelector)}open(e){let{link:t,name:r}=e;this._modalImage.src=t,this._modalImage.alt=r,this._modalCardTitle.textContent=r,super.open()}}(r.popupImageSelector);S.setEventListeners();const g=new _(r.popupProfileSelector,(t=>{v.setUserInfo(t),g.notifyUserSaving(!0),e.updateUserInfo(t).finally((()=>{g.notifyUserSaving(!1),g.close()}))}));g.setEventListeners();const C=new _(r.popupAddCardSelector,(t=>{C.notifyUserSaving(!0),e.addCard(t).then((e=>{t._id=e._id,cardDara.isLiked=!1;const r=p(t);u.addItem(r,!1)})).finally((()=>{C.notifyUserSaving(!1),C.close()}))}));C.setEventListeners();const L=new _(r.popupDeleteCardSelector,(t=>{e.deleteCard(t).finally((()=>{L.close(),m.deleteCard(),m=null}))}));L.setEventListeners();const b=new _(r.popupChangeAvatarSelector,(t=>{b.notifyUserSaving(!0),e.changeAvatar(t).finally((()=>{b.notifyUserSaving(!0),b.close();const e=v.getUserInfo();e.avatar=t.avatar,v.setUserInfo(e)}))}));b.setEventListeners(),e.getUserInfo().then((e=>{v.setUserInfo(e)})),e.getInitialCards().then((e=>{u=new c({items:e,renderer:e=>{u.addItem(p(e))}},r.cardsContainer),u.renderItems()})),(e=>{l.forEach((t=>{if(t.addEventListener("submit",(e=>{e.preventDefault()})),"card-delete-confirm-form"!==t.getAttribute("name")){const r=new d(e,t);s[t.getAttribute("name")]=r,r.enableValidation()}}))})(r)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUlvQyxXQUFXRCxHQUFVNkssU0FBUSxLQUMvQmpCLEVBQWdCNUIsUUFDaEJzQixFQUFhckosYUFDYnFKLEVBQWUsSUFBSSxHQUNuQixJQUdOTSxFQUFnQnpCLG9CQUVoQixNQUFNdUMsRUFBb0IsSUFBSXJDLEVBQzVCMUYsRUFBT3lCLDJCQUNOMUUsSUFDQ2dMLEVBQWtCdkIsa0JBQWlCLEdBQ25DdEwsRUFBSWlDLGFBQWFKLEdBQVVtTCxTQUFRLEtBQ2pDSCxFQUFrQnZCLGtCQUFpQixHQUNuQ3VCLEVBQWtCMUMsUUFDbEIsTUFBTWdELEVBQWNqQixFQUFTdkssY0FDN0J3TCxFQUFZUixPQUFTOUssRUFBUzhLLE9BQzlCVCxFQUFTVSxZQUFZTyxFQUFZLEdBQ2pDLElBR05OLEVBQWtCdkMsb0JBRWxCdEssRUFBSTJCLGNBQWNiLE1BQU1lLElBQ3RCcUssRUFBU1UsWUFBWS9LLEVBQVMsSUFHaEM3QixFQUFJeUIsa0JBQWtCWCxNQUFNc00sSUFDMUI1QixFQUFXLElBQUk1QyxFQUNiLENBQ0VFLE1BQU9zRSxFQUNQckUsU0FBVzVHLElBQ1RxSixFQUFTckMsUUFBUXVDLEVBQVd2SixHQUFVLEdBRzFDMkMsRUFBT08sZ0JBRVRtRyxFQUFTOUIsYUFBYSxJQUlFNUUsS0FDeEIrQixFQUFTd0IsU0FBU3JCLElBSWhCLEdBSEFBLEVBQVl0RCxpQkFBaUIsVUFBV3VHLElBQ3RDQSxFQUFJb0QsZ0JBQWdCLElBRXFCLDZCQUFyQ3JHLEVBQVltRSxhQUFhLFFBQXlDLENBQ3RFLE1BQU1tQyxFQUFnQixJQUFJdkcsRUFBY2pDLEVBQVFrQyxHQUNoRFAsRUFBZU8sRUFBWW1FLGFBQWEsU0FBV21DLEVBQ25EQSxFQUFjaEYsa0JBQ2hCLElBQ0EsRUFHSkEsQ0FBaUJ4RCxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3V0aWxzL3V0aWxzLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIC8vIGNvbnN0cnVjdG9yIGJvZHlcbiAgICB0aGlzLl9iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gICAgdGhpcy5fc3Bpbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3Bpbm5lclwiKTtcbiAgfVxuXG4gIF9zZW5kUmVxdWVzdChyb290LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9JHtyb290fWAsIG9wdGlvbnMpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VuZFJlcXVlc3QoXCIvY2FyZHNcIiwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIG90aGVyIG1ldGhvZHMgZm9yIHdvcmtpbmcgd2l0aCB0aGUgQVBJXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB0aGlzLl9zZW5kUmVxdWVzdChcIi91c2Vycy9tZVwiLCB7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlVXNlckluZm8odXNlckRhdGEpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VuZFJlcXVlc3QoXCIvdXNlcnMvbWVcIiwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSksXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgY2hhbmdlQXZhdGFyKHVzZXJEYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbmRSZXF1ZXN0KFwiL3VzZXJzL21lL2F2YXRhclwiLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXJEYXRhKSxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBhZGRDYXJkKGNhcmREYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbmRSZXF1ZXN0KFwiL2NhcmRzXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjYXJkRGF0YSksXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkRGF0YSkge1xuICAgIHJldHVybiB0aGlzLl9zZW5kUmVxdWVzdChgL2NhcmRzLyR7Y2FyZERhdGEuX2lkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBsaWtlQ2FyZChjYXJkRGF0YSkge1xuICAgIHJldHVybiB0aGlzLl9zZW5kUmVxdWVzdChgL2NhcmRzLyR7Y2FyZERhdGEuX2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBkaXNsaWtlQ2FyZChjYXJkRGF0YSkge1xuICAgIHJldHVybiB0aGlzLl9zZW5kUmVxdWVzdChgL2NhcmRzLyR7Y2FyZERhdGEuX2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjI1ZmZhYTg5LTA5YTYtNGI2Zi1hYTI4LWRkNGM0OGM2ZGQ0ZFwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG4iLCJpbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi9BcGkuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKHsgZGF0YSwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVEZWxldGVDYXJkQ2xpY2sgfSwgY2FyZFNlbGVjdG9yKSB7XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2ltYWdlTGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9pc0xpa2VkID0gZGF0YS5pc0xpa2VkO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkQ2xpY2sgPSBoYW5kbGVEZWxldGVDYXJkQ2xpY2s7XG5cbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2FyZExpa2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9jaGFuZ2VMaWtlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fY2FyZERlbGV0ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmRDbGljayh0aGlzKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcyk7XG4gICAgfSk7XG4gIH1cblxuICBfY2hhbmdlTGlrZSgpIHtcbiAgICB0aGlzLl9jYXJkTGlrZUVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB0aGlzLl9jYXJkTGlrZUVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpXG4gICAgICA/IGFwaS5saWtlQ2FyZCh0aGlzLmdldENhcmREYXRhKCkpXG4gICAgICA6IGFwaS5kaXNsaWtlQ2FyZCh0aGlzLmdldENhcmREYXRhKCkpO1xuICB9XG5cbiAgX2dldENhcmRUZW1wbGF0ZSgpIHtcbiAgICBjb25zb2xlLmxvZyhgIyR7dGhpcy5fY2FyZFNlbGVjdG9yfWApO1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLl9jYXJkU2VsZWN0b3J9YClcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIGdldENhcmRFbGVtZW50KCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0Q2FyZFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FyZFRpdGxlRWxlbWVudCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5zcmMgPSB0aGlzLl9pbWFnZUxpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlRWxlbWVudC5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NhcmRUaXRsZUVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NhcmRMaWtlRWxlbWVudCA9XG4gICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2NhcmREZWxldGVFbGVtZW50ID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIlxuICAgICk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICBpZiAodGhpcy5faXNMaWtlZCkge1xuICAgICAgdGhpcy5fY2FyZExpa2VFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG5cbiAgZ2V0Q2FyZERhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9pZDogdGhpcy5faWQsXG4gICAgICBsaW5rOiB0aGlzLl9pbWFnZUxpbmssXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLFxuICAgIH07XG4gIH1cblxuICBkZWxldGVDYXJkKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcbiAgfVxufVxuIiwiaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuXG5leHBvcnQgY29uc3QgRVNDX05BTUUgPSBcIkVzY2FwZVwiO1xuXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19maWVsZFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19maWVsZF9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19maWVsZC1lcnJvcl92aXNpYmxlXCIsXG4gIGNhcmRTZWxlY3RvcjogXCJjYXJkLXRlbXBsYXRlXCIsXG4gIGNhcmRzQ29udGFpbmVyOiBcIi5jYXJkc19fbGlzdFwiLFxuICBpbWFnZVNlbGVjdG9yOiBcIi5tb2RhbF9faW1hZ2VcIixcbiAgY2FyZFRpdGxlU2VsZWN0b3I6IFwiLm1vZGFsX19jYXJkLXRpdGxlXCIsXG4gIHByb2ZpbGVOYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXG4gIHByb2ZpbGVEZXNjcmlwdGlvblNlbGVjdG9yOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxuICBwcm9maWxlQXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2ltYWdlXCIsXG4gIHByb2ZpbGVFZGl0QnV0dG9uU2VsZWN0b3I6IFwiI3Byb2ZpbGUtZWRpdC1idXR0b25cIixcbiAgcHJvZmlsZVRpdGxlSW5wdXRTZWxlY3RvcjogXCIjcHJvZmlsZS10aXRsZS1pbnB1dFwiLFxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dFNlbGVjdG9yOiBcIiNwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCIsXG4gIHByb2ZpbGVFZGl0Rm9ybTogXCJwcm9maWxlLWVkaXQtZm9ybVwiLFxuICBjYXJkQWRkQnV0dG9uU2VsZWN0b3I6IFwiI3Byb2ZpbGUtYWRkLWJ1dHRvblwiLFxuICBjYXJkQWRkRm9ybTogXCJjYXJkLWFkZC1mb3JtXCIsXG4gIGNhcmRUaXRsZUlucHV0U2VsZWN0b3I6IFwiI2NhcmQtdGl0bGUtaW5wdXRcIixcbiAgY2FyZEltYWdlVVJMSW5wdXRTZWxlY3RvcjogXCIjY2FyZC1pbWFnZVVSTC1pbnB1dFwiLFxuICBwb3B1cEltYWdlU2VsZWN0b3I6IFwiaW1hZ2Utdmlldy1tb2RhbFwiLFxuICBwb3B1cFByb2ZpbGVTZWxlY3RvcjogXCJwcm9maWxlLWVkaXQtbW9kYWxcIixcbiAgcG9wdXBBZGRDYXJkU2VsZWN0b3I6IFwiY2FyZC1hZGQtbW9kYWxcIixcbiAgcG9wdXBEZWxldGVDYXJkU2VsZWN0b3I6IFwiY2FyZC1kZWxldGUtbW9kYWxcIixcbiAgcG9wdXBDaGFuZ2VBdmF0YXJTZWxlY3RvcjogXCJwcm9maWxlLWNoYW5nZS1hdmF0YXItbGlua1wiLFxuICBidXR0b25DbG9zZVNlbGVjdG9yOiBcIi5tb2RhbF9fY2xvc2VcIixcbn07XG5cbmV4cG9ydCBjb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xuXG4vLyBFbGVtZW50c1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgY29uZmlnLnByb2ZpbGVFZGl0QnV0dG9uU2VsZWN0b3Jcbik7XG5cbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tjb25maWcucHJvZmlsZUVkaXRGb3JtXTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgY29uZmlnLmNhcmRBZGRCdXR0b25TZWxlY3RvclxuKTtcbmV4cG9ydCBjb25zdCBjYXJkQWRkRm9ybSA9IGRvY3VtZW50LmZvcm1zW2NvbmZpZy5jYXJkQWRkRm9ybV07XG5leHBvcnQgY29uc3QgZm9ybUxpc3QgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKV07XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IFtcbiAgICAgIC4uLnRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpLFxuICAgIF07XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlmICghKGVycm9yRWxlbWVudCA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XG4gICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgfVxuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlmICghKGVycm9yRWxlbWVudCA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XG4gICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIH1cbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICB9XG5cbiAgX2Rpc2FibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIF9lbmFibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fZW5hYmxlQnV0dG9uKCk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZGlzYWJsZUJ1dHRvbigpO1xuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpXG4gICAgKTtcbiAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XG4gIH1cblxuICBhcmVJbnB1dHNFbXB0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LmV2ZXJ5KChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiBpbnB1dEVsZW1lbnQudmFsdWUubGVuZ3RoID09PSAwO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCwgaXNBcHBlbmQgPSB0cnVlKSB7XG4gICAgaWYgKGlzQXBwZW5kKSB7XG4gICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5jbGVhcigpO1xuXG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRVNDX05BTUUgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHMuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtwb3B1cFNlbGVjdG9yfWApO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gRVNDX05BTUUpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9vcGVuZWRcIikpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjb25maWcgfSBmcm9tIFwiLi4vdXRpbHMvdXRpbHMuanNcIjtcbmltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX21vZGFsRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoY29uZmlnLmZvcm1TZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5faW5wdXRzID0gWy4uLnRoaXMuX21vZGFsRm9ybS5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKV07XG4gICAgdGhpcy5fYnV0dG9uU2F2ZSA9IHRoaXMuX21vZGFsRm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgICB0aGlzLl9zZWxmQnV0dG9uQ2FwdGlvbiA9IHRoaXMuX2J1dHRvblNhdmUudGV4dENvbnRlbnQ7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9tb2RhbEZvcm0ucmVzZXQoKTtcbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHZhbHVlc1tpbnB1dEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKV0gPSBpbnB1dEVsZW1lbnQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfVxuXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fbW9kYWxGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcbiAgfVxuXG4gIG5vdGlmeVVzZXJTYXZpbmcoaXNTYXZpbmcpIHtcbiAgICB0aGlzLl9idXR0b25TYXZlLnRleHRDb250ZW50ID0gaXNTYXZpbmdcbiAgICAgID8gXCJTYXZpbmcuLi5cIlxuICAgICAgOiB0aGlzLl9zZWxmQnV0dG9uQ2FwdGlvbjtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgY29uZmlnLFxuICBmb3JtVmFsaWRhdG9ycyxcbiAgcHJvZmlsZUVkaXRCdXR0b24sXG4gIHByb2ZpbGVFZGl0Rm9ybSxcbiAgcHJvZmlsZUFkZEJ1dHRvbixcbiAgY2FyZEFkZEZvcm0sXG4gIGZvcm1MaXN0LFxufSBmcm9tIFwiLi4vdXRpbHMvdXRpbHMuanNcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5cbmxldCBjYXJkTGlzdCA9IG51bGw7XG5sZXQgY2FyZFRvRGVsZXRlID0gbnVsbDtcblxuY29uc3QgY3JlYXRlQ2FyZCA9IChjYXJkRGF0YSkgPT4ge1xuICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoXG4gICAge1xuICAgICAgZGF0YTogY2FyZERhdGEsXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6IHNob3dJbWFnZU1vZGFsLFxuICAgICAgaGFuZGxlRGVsZXRlQ2FyZENsaWNrOiBkZWxldGVDYXJkQ2xpY2ssXG4gICAgfSxcbiAgICBjb25maWcuY2FyZFNlbGVjdG9yXG4gICk7XG4gIHJldHVybiBuZXdDYXJkLmdldENhcmRFbGVtZW50KCk7XG59O1xuXG5jb25zdCBhZGRQcm9maWxlRWRpdFBvcHVwID0gKCkgPT4ge1xuICBwcm9maWxlUG9wdXAuc2V0SW5wdXRWYWx1ZXModXNlckluZm8uZ2V0VXNlckluZm8oKSk7XG4gIGZvcm1WYWxpZGF0b3JzW3Byb2ZpbGVFZGl0Rm9ybS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpXS5yZXNldFZhbGlkYXRpb24oKTtcbiAgcHJvZmlsZVBvcHVwLm9wZW4oKTtcbn07XG5cbmNvbnN0IGFkZENhcmRQb3B1cCA9ICgpID0+IHtcbiAgZm9ybVZhbGlkYXRvcnNbY2FyZEFkZEZvcm0uZ2V0QXR0cmlidXRlKFwibmFtZVwiKV0ucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGNhcmRQb3B1cC5vcGVuKCk7XG59O1xuXG5jb25zdCBzaG93SW1hZ2VNb2RhbCA9IChjYXJkKSA9PiB7XG4gIGltYWdlUG9wdXAub3BlbihjYXJkLmdldENhcmREYXRhKCkpO1xufTtcblxuY29uc3QgZGVsZXRlQ2FyZENsaWNrID0gKGNhcmQpID0+IHtcbiAgY2FyZERlbGV0ZVBvcHVwLnNldElucHV0VmFsdWVzKGNhcmQuZ2V0Q2FyZERhdGEoKSk7XG4gIGNhcmRUb0RlbGV0ZSA9IGNhcmQ7XG4gIGNhcmREZWxldGVQb3B1cC5vcGVuKCk7XG59O1xuXG5jb25zdCBjaGFuZ2VQcm9maWxlQXZhdGFyID0gKHVzZXJJbmZvKSA9PiB7XG4gIGNoYW5nZUF2YXRhclBvcHVwLnNldElucHV0VmFsdWVzKHVzZXJJbmZvLmdldFVzZXJJbmZvKCkpO1xuICBjaGFuZ2VBdmF0YXJQb3B1cC5vcGVuKCk7XG59O1xuXG4vLyBFdmVudCBMaXN0ZW5lcnNcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhZGRQcm9maWxlRWRpdFBvcHVwKTtcbnByb2ZpbGVBZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFkZENhcmRQb3B1cCk7XG5cbi8vIGNyZWF0aW5nIGNsYXNzIGluc3RhbmNlcyBhbmQgaW5pdGlhbGl6aW5nXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhjb25maWcsIGNoYW5nZVByb2ZpbGVBdmF0YXIpO1xuXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKGNvbmZpZy5wb3B1cEltYWdlU2VsZWN0b3IpO1xuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgY29uZmlnLnBvcHVwUHJvZmlsZVNlbGVjdG9yLFxuICAodXNlckRhdGEpID0+IHtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XG4gICAgcHJvZmlsZVBvcHVwLm5vdGlmeVVzZXJTYXZpbmcodHJ1ZSk7XG4gICAgYXBpLnVwZGF0ZVVzZXJJbmZvKHVzZXJEYXRhKS5maW5hbGx5KCgpID0+IHtcbiAgICAgIHByb2ZpbGVQb3B1cC5ub3RpZnlVc2VyU2F2aW5nKGZhbHNlKTtcbiAgICAgIHByb2ZpbGVQb3B1cC5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG4pO1xucHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGNhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKGNvbmZpZy5wb3B1cEFkZENhcmRTZWxlY3RvciwgKGNhcmREYXRhKSA9PiB7XG4gIGNhcmRQb3B1cC5ub3RpZnlVc2VyU2F2aW5nKHRydWUpO1xuICBhcGlcbiAgICAuYWRkQ2FyZChjYXJkRGF0YSlcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBjYXJkRGF0YS5faWQgPSByZXMuX2lkO1xuICAgICAgY2FyZERhcmEuaXNMaWtlZCA9IGZhbHNlO1xuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGNhcmREYXRhKTtcbiAgICAgIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQsIGZhbHNlKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGNhcmRQb3B1cC5ub3RpZnlVc2VyU2F2aW5nKGZhbHNlKTtcbiAgICAgIGNhcmRQb3B1cC5jbG9zZSgpO1xuICAgIH0pO1xufSk7XG5jYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgY2FyZERlbGV0ZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIGNvbmZpZy5wb3B1cERlbGV0ZUNhcmRTZWxlY3RvcixcbiAgKGNhcmREYXRhKSA9PiB7XG4gICAgYXBpLmRlbGV0ZUNhcmQoY2FyZERhdGEpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgY2FyZERlbGV0ZVBvcHVwLmNsb3NlKCk7XG4gICAgICBjYXJkVG9EZWxldGUuZGVsZXRlQ2FyZCgpO1xuICAgICAgY2FyZFRvRGVsZXRlID0gbnVsbDtcbiAgICB9KTtcbiAgfVxuKTtcbmNhcmREZWxldGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBjaGFuZ2VBdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBjb25maWcucG9wdXBDaGFuZ2VBdmF0YXJTZWxlY3RvcixcbiAgKHVzZXJEYXRhKSA9PiB7XG4gICAgY2hhbmdlQXZhdGFyUG9wdXAubm90aWZ5VXNlclNhdmluZyh0cnVlKTtcbiAgICBhcGkuY2hhbmdlQXZhdGFyKHVzZXJEYXRhKS5maW5hbGx5KCgpID0+IHtcbiAgICAgIGNoYW5nZUF2YXRhclBvcHVwLm5vdGlmeVVzZXJTYXZpbmcodHJ1ZSk7XG4gICAgICBjaGFuZ2VBdmF0YXJQb3B1cC5jbG9zZSgpO1xuICAgICAgY29uc3QgYWxsVXNlckRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICAgICAgYWxsVXNlckRhdGEuYXZhdGFyID0gdXNlckRhdGEuYXZhdGFyO1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oYWxsVXNlckRhdGEpO1xuICAgIH0pO1xuICB9XG4pO1xuY2hhbmdlQXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuYXBpLmdldFVzZXJJbmZvKCkudGhlbigodXNlckRhdGEpID0+IHtcbiAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xufSk7XG5cbmFwaS5nZXRJbml0aWFsQ2FyZHMoKS50aGVuKChjYXJkcykgPT4ge1xuICBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxuICAgIHtcbiAgICAgIGl0ZW1zOiBjYXJkcyxcbiAgICAgIHJlbmRlcmVyOiAoY2FyZERhdGEpID0+IHtcbiAgICAgICAgY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGNhcmREYXRhKSk7XG4gICAgICB9LFxuICAgIH0sXG4gICAgY29uZmlnLmNhcmRzQ29udGFpbmVyXG4gICk7XG4gIGNhcmRMaXN0LnJlbmRlckl0ZW1zKCk7XG59KTtcblxuLy8gYWRkaW5nIHZhbGlkYXRpb24gdG8gZm9ybXNcbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICBpZiAoIShmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpID09PSBcImNhcmQtZGVsZXRlLWNvbmZpcm0tZm9ybVwiKSkge1xuICAgICAgY29uc3QgZm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpO1xuICAgICAgZm9ybVZhbGlkYXRvcnNbZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKV0gPSBmb3JtVmFsaWRhdG9yO1xuICAgICAgZm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmVuYWJsZVZhbGlkYXRpb24oY29uZmlnKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoXG4gICAgeyBwcm9maWxlTmFtZVNlbGVjdG9yLCBwcm9maWxlRGVzY3JpcHRpb25TZWxlY3RvciwgcHJvZmlsZUF2YXRhclNlbGVjdG9yIH0sXG4gICAgY2hhbmdlQXZhdGFySGFuZGxlclxuICApIHtcbiAgICB0aGlzLl9wcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVOYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBwcm9maWxlRGVzY3JpcHRpb25TZWxlY3RvclxuICAgICk7XG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUF2YXRhclNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVDaGFuZ2VBdmF0YXJDbGljayA9IGNoYW5nZUF2YXRhckhhbmRsZXI7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVDaGFuZ2VBdmF0YXJDbGljayh0aGlzKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9wcm9maWxlVGl0bGUudGV4dENvbnRlbnQsXG4gICAgICBhYm91dDogdGhpcy5fcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50LFxuICAgICAgYXZhdGFyOiB0aGlzLl9wcm9maWxlQXZhdGFyLnNyYyxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8odXNlckRhdGEpIHtcbiAgICB0aGlzLl9wcm9maWxlVGl0bGUudGV4dENvbnRlbnQgPSB1c2VyRGF0YS5uYW1lO1xuICAgIHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHVzZXJEYXRhLmFib3V0O1xuICAgIGlmIChcImF2YXRhclwiIGluIHVzZXJEYXRhKSB7XG4gICAgICB0aGlzLl9wcm9maWxlQXZhdGFyLnNyYyA9IHVzZXJEYXRhLmF2YXRhcjtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IGNvbmZpZyB9IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xuaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX21vZGFsSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5pbWFnZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9tb2RhbENhcmRUaXRsZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoY29uZmlnLmNhcmRUaXRsZVNlbGVjdG9yKTtcbiAgfVxuXG4gIG9wZW4oeyBsaW5rLCBuYW1lIH0pIHtcbiAgICB0aGlzLl9tb2RhbEltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5fbW9kYWxJbWFnZS5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX21vZGFsQ2FyZFRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJhcGkiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJ0aGlzIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX3NwaW5uZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJfc2VuZFJlcXVlc3QiLCJyb290IiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiZ2V0SW5pdGlhbENhcmRzIiwibWV0aG9kIiwiZ2V0VXNlckluZm8iLCJ1cGRhdGVVc2VySW5mbyIsInVzZXJEYXRhIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjaGFuZ2VBdmF0YXIiLCJhZGRDYXJkIiwiY2FyZERhdGEiLCJkZWxldGVDYXJkIiwiX2lkIiwibGlrZUNhcmQiLCJkaXNsaWtlQ2FyZCIsImF1dGhvcml6YXRpb24iLCJDYXJkIiwiX3JlZiIsImNhcmRTZWxlY3RvciIsImRhdGEiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDYXJkQ2xpY2siLCJfbmFtZSIsIm5hbWUiLCJfaW1hZ2VMaW5rIiwibGluayIsIl9pc0xpa2VkIiwiaXNMaWtlZCIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2FyZENsaWNrIiwiX2NhcmRTZWxlY3RvciIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9jYXJkTGlrZUVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2NoYW5nZUxpa2UiLCJfY2FyZERlbGV0ZUVsZW1lbnQiLCJfY2FyZEltYWdlRWxlbWVudCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImNvbnRhaW5zIiwiZ2V0Q2FyZERhdGEiLCJfZ2V0Q2FyZFRlbXBsYXRlIiwibG9nIiwiY29udGVudCIsImNsb25lTm9kZSIsImdldENhcmRFbGVtZW50IiwiX2NhcmRFbGVtZW50IiwiX2NhcmRUaXRsZUVsZW1lbnQiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsImFkZCIsInJlbW92ZSIsImNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiY2FyZHNDb250YWluZXIiLCJpbWFnZVNlbGVjdG9yIiwiY2FyZFRpdGxlU2VsZWN0b3IiLCJwcm9maWxlTmFtZVNlbGVjdG9yIiwicHJvZmlsZURlc2NyaXB0aW9uU2VsZWN0b3IiLCJwcm9maWxlQXZhdGFyU2VsZWN0b3IiLCJwcm9maWxlRWRpdEJ1dHRvblNlbGVjdG9yIiwicHJvZmlsZVRpdGxlSW5wdXRTZWxlY3RvciIsInByb2ZpbGVEZXNjcmlwdGlvbklucHV0U2VsZWN0b3IiLCJwcm9maWxlRWRpdEZvcm0iLCJjYXJkQWRkQnV0dG9uU2VsZWN0b3IiLCJjYXJkQWRkRm9ybSIsImNhcmRUaXRsZUlucHV0U2VsZWN0b3IiLCJjYXJkSW1hZ2VVUkxJbnB1dFNlbGVjdG9yIiwicG9wdXBJbWFnZVNlbGVjdG9yIiwicG9wdXBQcm9maWxlU2VsZWN0b3IiLCJwb3B1cEFkZENhcmRTZWxlY3RvciIsInBvcHVwRGVsZXRlQ2FyZFNlbGVjdG9yIiwicG9wdXBDaGFuZ2VBdmF0YXJTZWxlY3RvciIsImJ1dHRvbkNsb3NlU2VsZWN0b3IiLCJmb3JtVmFsaWRhdG9ycyIsInByb2ZpbGVFZGl0QnV0dG9uIiwiZm9ybXMiLCJwcm9maWxlQWRkQnV0dG9uIiwiZm9ybUxpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiX2NvbmZpZyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJfYnV0dG9uRWxlbWVudCIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsImlkIiwidW5kZWZpbmVkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9kaXNhYmxlQnV0dG9uIiwiZGlzYWJsZWQiLCJfZW5hYmxlQnV0dG9uIiwiX2hhc0ludmFsaWRJbnB1dCIsInNvbWUiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiZW5hYmxlVmFsaWRhdGlvbiIsInJlc2V0VmFsaWRhdGlvbiIsImFyZUlucHV0c0VtcHR5IiwiZXZlcnkiLCJ2YWx1ZSIsImxlbmd0aCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfcmVuZGVyZWRJdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJhZGRJdGVtIiwiZWxlbWVudCIsImFyZ3VtZW50cyIsInByZXBlbmQiLCJhcHBlbmQiLCJjbGVhciIsImlubmVySFRNTCIsInJlbmRlckl0ZW1zIiwiaXRlbSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJldnQiLCJrZXkiLCJjbG9zZSIsIm9wZW4iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX21vZGFsRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0cyIsIl9idXR0b25TYXZlIiwiX3NlbGZCdXR0b25DYXB0aW9uIiwicmVzZXQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJ2YWx1ZXMiLCJnZXRBdHRyaWJ1dGUiLCJzZXRJbnB1dFZhbHVlcyIsImlucHV0Iiwibm90aWZ5VXNlclNhdmluZyIsImlzU2F2aW5nIiwiY2FyZExpc3QiLCJjYXJkVG9EZWxldGUiLCJjcmVhdGVDYXJkIiwic2hvd0ltYWdlTW9kYWwiLCJkZWxldGVDYXJkQ2xpY2siLCJjYXJkIiwiaW1hZ2VQb3B1cCIsImNhcmREZWxldGVQb3B1cCIsImFkZFByb2ZpbGVFZGl0UG9wdXAiLCJwcm9maWxlUG9wdXAiLCJ1c2VySW5mbyIsImFkZENhcmRQb3B1cCIsImNhcmRQb3B1cCIsImNoYW5nZUF2YXRhckhhbmRsZXIiLCJfcHJvZmlsZVRpdGxlIiwiX3Byb2ZpbGVEZXNjcmlwdGlvbiIsIl9wcm9maWxlQXZhdGFyIiwiX2hhbmRsZUNoYW5nZUF2YXRhckNsaWNrIiwiYWJvdXQiLCJhdmF0YXIiLCJzZXRVc2VySW5mbyIsImNoYW5nZUF2YXRhclBvcHVwIiwiX21vZGFsSW1hZ2UiLCJfbW9kYWxDYXJkVGl0bGUiLCJmaW5hbGx5IiwiY2FyZERhcmEiLCJjYXJkRWxlbWVudCIsImFsbFVzZXJEYXRhIiwiY2FyZHMiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm1WYWxpZGF0b3IiXSwic291cmNlUm9vdCI6IiJ9